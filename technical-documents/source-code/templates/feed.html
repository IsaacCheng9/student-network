<!DOCTYPE html>
<html lang="en">
  <meta charset="UTF-8" />
  <head>
    <title>Student Network - Feed</title>
  </head>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link
    rel="stylesheet"
    type="text/css"
    href="{{ url_for('static', filename='styles/semantic.css') }}"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
  />

  <style>
    .student-background {
      background-image: url("{{ url_for('static', filename='images/background_blue.png') }}") !important;

      height: 100%;

      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;

      position: fixed;
      z-index: -1;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
    }

    .centered {
      text-align: center;
    }

    .sticky {
        position: sticky; top: 5px;
        z-index: 99;
    }

  </style>

  <body>
    <div class="student-background"></div>
    <div class="ui container">
      <!--<div class="ui segment basic">-->
        <div class="sticky">
            <div class="ui menu">
            {% if not "username" in session %}
            <a href="/login" class="item">Login</a>
            {%endif%}
            <a href="/profile" class="item">Profile</a>
            <a href="/requests" class="item">Connect Requests</a>
            <a href="/feed" class="active item">Feed</a>
            <div class="right menu">
                <div class="ui item">
                <div class="ui transparent icon input">
                    <input
                    class="prompt"
                    type="text"
                    id="search"
                    placeholder="Search for a user"
                    />
                    <i class="search link icon"></i>
                </div>
                </div>
                {% if session["username"] %}
                <a class="ui item"> Logged in as {{session["username"]}} </a>
                <a href="/logout" class="ui item">Logout</a>
                {%endif%}
            </div>
            </div>
        </div>

        <div class="ui segment">
          <div class="ui segment basic">
            <div class="content">
              <form action="{{ url_for('submit_post') }}" class="ui form", method="POST">
                <div class="required field">
                  <input placeholder="Your post needs a title" type="text" name="post_title"></input>
                </div> 
                <div class="field">
                  <textarea placeholder="Write an optional body for your post here" name="post_text" id="" cols="3" rows="5"></textarea>
                </div>
                <input type="submit" value="Post" class="ui button teal"></button>
              </form>
            </div>  
        </div>
            <div class="ui horizontal divider">Recent Posts</div>
              {% for post in posts.AllPosts %}
              <div class="ui grid">
                  <div class="two wide column">
                      <img class="ui image centered rounded" src="https://via.placeholder.com/500" alt="" />
                  </div>
                  <div class="fourteen wide column">
                      <h2>
                          <a href="/post_page/{{ post.postId }}">{{ post.title }}</a>
                          <div style="float: right"><h3>{{ post.date_posted }}</h3></div>
                      </h2>
                      <div class="ui label blue">
                          {{ post.author }}
                          <div class="detail">{{ post.account_type }}</div>
                      </div>
                      <br>
                      {{ post.body }}
                  </div>
              </div>
              {% endfor %}
    </div>
  </body>
  <script type="text/javascript" src="static/searchbar.js"></script>
</html>
